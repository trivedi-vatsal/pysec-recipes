# Recipe Examples

Real-world examples and variations of the security audit recipe for different project types and use cases.

!!! tip "Choose Your Perfect Recipe"

    Select the example that best matches your project structure and requirements. Each recipe includes complete setup instructions and can be customized for your specific needs.

## Choose Your Recipe

<div class="grid cards" markdown>

- :material-home: **Basic Recipe**

    ---

    **Perfect for**: Simple Python projects with a single `requirements.txt` file

    ✅ Zero configuration required  
    ✅ Works out of the box  
    ✅ Perfect for getting started

    [:octicons-arrow-right-24: Basic Recipe](examples/basic.md)

- :material-office-building: **Enterprise Recipe**

    ---

    **Perfect for**: Projects with multiple environments (dev, staging, prod)

    ✅ Matrix strategy for parallel auditing  
    ✅ Environment-specific scanning  
    ✅ Comprehensive coverage

    [:octicons-arrow-right-24: Enterprise Recipe](examples/multi-environment.md)

- :material-language-python: **Django Recipe**

    ---

    **Perfect for**: Django web applications

    ✅ Django security checks integration  
    ✅ Multiple environment configurations  
    ✅ Django-specific dependencies

    [:octicons-arrow-right-24: Django Recipe](examples/django.md)

- :material-lightning-bolt: **FastAPI Recipe**

    ---

    **Perfect for**: Modern async Python applications

    ✅ Separate dev/prod scanning  
    ✅ API-focused dependencies  
    ✅ Modern Python patterns

    [:octicons-arrow-right-24: FastAPI Recipe](examples/fastapi.md)

- :material-source-repository: **Monorepo Recipe**

    ---

    **Perfect for**: Complex projects with multiple Python services

    ✅ Dynamic service discovery  
    ✅ Parallel auditing across services  
    ✅ Flexible service structure

    [:octicons-arrow-right-24: Monorepo Recipe](examples/monorepo.md)

</div>

## Quick Recipe Selection

| Project Type | Recommended Recipe | Setup Time |
|--------------|-------------------|------------|
| Simple Python app | Basic Recipe | 30 seconds |
| Multi-environment project | Enterprise Recipe | 1 minute |
| Django web app | Django Recipe | 1 minute |
| FastAPI microservice | FastAPI Recipe | 1 minute |
| Large monorepo | Monorepo Recipe | 2 minutes |

## Recipes in Action

See how the security audit recipe works in real scenarios with automatic issue creation and management.

### When Vulnerabilities Are Found

???+ danger "Example: Vulnerability Detection"

    The recipe automatically creates detailed GitHub issues when security vulnerabilities are discovered:

    **Issue Title:** `🚨 Security Audit: 3 vulnerabilities found in dependencies`

    ```markdown title="Auto-generated GitHub Issue"
    ## 🔍 Security Audit Summary
    - **Scan Date:** 2024-01-15 08:00:00 UTC
    - **Repository:** my-org/my-project
    - **Branch:** main
    - **Commit:** abc123def456
    - **Vulnerabilities Found:** 3
    - **Affected Packages:** 2

    ## 🚨 Vulnerability Details
    | Package | Version | Vulnerability | Fix Available | Severity |
    |---------|---------|---------------|---------------|----------|
    | requests | 2.25.1 | CVE-2023-32681 | 2.31.0 | HIGH |
    | urllib3 | 1.26.5 | CVE-2023-43804 | 2.0.7 | MEDIUM |
    | urllib3 | 1.26.5 | CVE-2023-45803 | 2.0.7 | HIGH |

    ## 🔧 Automatic Fix Commands
    ```bash
    # Review the vulnerabilities
    pip-audit -r requirements.txt

    # Apply automatic fixes (use with caution)
    pip-audit -r requirements.txt --fix

    # Or update manually
    pip install "requests>=2.31.0" "urllib3>=2.0.7"
    ```

    ## 📋 Next Steps
    1. Review each vulnerability listed above
    2. Update affected packages to the recommended fix versions
    3. Test the application after updates
    4. Consider using `pip-audit --fix` for automatic updates

    ---
    *This issue was automatically generated by the Security Audit Recipe.*
    ```

### When Everything Is Clean

???+ success "Example: Clean Audit Report"

    The recipe creates clean audit reports when no vulnerabilities are found:

    **Issue Title:** `✅ Weekly Security Audit: No vulnerabilities found`

    ```markdown title="Clean Audit GitHub Issue"
    ## 🔍 Security Audit Summary
    - **Status:** ✅ CLEAN - No vulnerabilities detected
    - **Scan Date:** 2024-01-15 08:00:00 UTC
    - **Dependencies Scanned:** 15 packages
    - **Vulnerability Databases:** PyPI Advisory, OSV, Python Packaging Advisory

    ## 🛡️ Security Status
    ✅ All packages are up-to-date with security patches
    ✅ No known CVEs affecting current dependency versions
    ✅ Dependencies are from trusted sources

    ## 📈 Recommendations
    Even though no vulnerabilities were found, consider these security best practices:
    1. **Keep dependencies updated** - Regularly update to the latest stable versions
    2. **Monitor security advisories** - Subscribe to security notifications
    3. **Use dependency pinning** - Pin exact versions in production
    4. **Regular audits** - This automated scan runs weekly

    ---
    *This clean audit report was automatically generated by the Security Audit Recipe.*
    ```

## Why Choose These Recipes?

???+ abstract "Recipe Benefits Overview"

    Each recipe provides enterprise-grade security automation with minimal setup effort.

    === "🚀 Instant Security"

        - **30-second setup** for any Python project
        - **Zero maintenance** - runs automatically
        - **Works everywhere** - any project size

    === "🧠 Intelligent Automation"

        - **Smart issue management** - creates, updates, closes issues automatically
        - **Rich reporting** - JSON, Markdown, and text outputs
        - **Scheduled & on-demand** - weekly scans + manual triggers

    === "🛡️ Enterprise-Grade Security"

        - **Comprehensive coverage** - scans entire dependency trees
        - **Multiple databases** - PyPI Advisory, OSV, Python Packaging Advisory
        - **Real-time alerts** - immediate notification when vulnerabilities are found

## Getting Started

!!! tip "Quick Recipe Selection Guide"

    Not sure which recipe to choose? Follow this simple decision tree:

    **→ Simple Python project?** Start with [Basic Recipe](examples/basic.md)  
    **→ Django application?** Use [Django Recipe](examples/django.md)  
    **→ FastAPI/modern API?** Try [FastAPI Recipe](examples/fastapi.md)  
    **→ Multiple environments?** Go with [Enterprise Recipe](examples/multi-environment.md)  
    **→ Large monorepo?** Choose [Monorepo Recipe](examples/monorepo.md)

**Need help choosing?** Check out our [Getting Started Guide](getting-started.md) for detailed guidance!
